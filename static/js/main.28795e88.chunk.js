(this["webpackJsonpgoit-react-hw-03-image-finder-1"]=this["webpackJsonpgoit-react-hw-03-image-finder-1"]||[]).push([[0],{39:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(12),i=n.n(r),c=(n(39),n(14)),s=n.n(c),l=n(21),p=n(17),d=n(5),u=n(6),h=n(10),b=n(9),g=n(13),x=(n(22),n(3));var m=Object(x.a)("header",{target:"e2jtlbu4"})({name:"19pqo0j",styles:"top:0;left:0;position:sticky;z-index:1000;display:flex;justify-content:center;align-items:center;min-height:64px;padding-right:24px;padding-left:24px;padding-top:12px;padding-bottom:12px;color:#fff;background-color:#3f51b5;box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.5),0px 1px 10px 0px rgba(0, 0, 0, 0.5)"}),f=Object(x.a)("form",{target:"e2jtlbu3"})({name:"kbgsnr",styles:"display:flex;align-items:center;width:100%;max-width:600px;background-color:#fff;border-radius:3px;overflow:hidden"}),j=Object(x.a)("button",{target:"e2jtlbu2"})({name:"1f32h4y",styles:'display:inline-block;width:48px;height:48px;border:0;background-image:url("https://image.flaticon.com/icons/svg/149/149852.svg");background-size:40%;background-repeat:no-repeat;background-position:center;opacity:0.6;transition:opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;outline:none;&:hover{opacity:1;}'}),v=Object(x.a)("span",{target:"e2jtlbu1"})({name:"jnnlmv",styles:"position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;clip-path:inset(50%);border:0"}),y=Object(x.a)("input",{target:"e2jtlbu0"})({name:"g6sr3k",styles:"display:inline-block;width:100%;font:inherit;font-size:20px;border:none;outline:none;padding-left:4px;padding-right:4px;&::placeholder{font:inherit;font-size:18px;}"}),O=n(1),w=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={value:""},e.handleInputChange=function(t){e.setState({value:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.value.trim())return g.b.error("Enter search query");e.props.onSubmit(e.state.value),e.setState({value:""})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.value;return Object(O.jsx)(m,{children:Object(O.jsxs)(f,{onSubmit:this.handleSubmit,children:[Object(O.jsx)(j,{children:Object(O.jsx)(v,{children:"Search"})}),Object(O.jsx)(y,{value:e,onChange:this.handleInputChange,placeholder:"Search images"})]})})}}]),n}(a.Component);var k=Object(x.a)("ul",{target:"exgsn580"})({name:"wfpy1h",styles:"display:grid;max-width:calc(100vw - 48px);grid-template-columns:repeat(auto-fill, minmax(320px, 1fr));grid-gap:30px;margin-top:0;margin-bottom:0;padding:30px 60px;list-style:none;margin-left:auto;margin-right:auto"});var S,C,I,L,z=Object(x.a)("li",{target:"emzj61h1"})({name:"3yskrk",styles:"border-radius:8px;overflow:hidden;box-shadow:0px 1px 3px 0px rgba(0, 0, 0, 0.2),0px 1px 1px 0px rgba(0, 0, 0, 0.14),0px 2px 1px -1px rgba(0, 0, 0, 0.12);transition:transform 250ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1);&:hover{transform:scale(1.06);cursor:zoom-in;box-shadow:rgba(0, 0, 0, 0.5) 0 0 10px 5px;}"}),E=Object(x.a)("img",{target:"emzj61h0"})({name:"2otopq",styles:"width:100%;height:260px;object-fit:cover"}),M=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loaded:!1},e.handleImageLoad=function(){e.setState({loaded:!0})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.previewImage,n=e.tags,a=e.onImageSelect;return Object(O.jsx)(z,{children:Object(O.jsx)(E,{src:t,alt:n,onClick:a,onLoad:this.handleImageLoad})})}}]),n}(a.Component),D=function(e){var t=e.images,n=e.onImageSelect;return Object(O.jsx)(k,{children:t.map((function(e){var t=e.id,a=e.webformatURL,o=e.largeImageURL,r=e.tags;return Object(O.jsx)(M,{previewImage:a,tags:r,onImageSelect:function(){n(o,r)}},t)}))})},q=n(33),Q=n(7),U=n(8),A=U.a.div(S||(S=Object(Q.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 50px;\n  padding-bottom: 50px;\n  background-color: rgba(0, 0, 0, 0.8);\n  overflow-y: scroll;\n  z-index: 1200;\n  backdrop-filter: blur(10px);\n"]))),T=U.a.div(C||(C=Object(Q.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 70vw;\n  height: auto;\n  margin: auto;\n  border-radius: 10px;\n  overflow: hidden;\n"]))),K=U.a.button(I||(I=Object(Q.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  padding: 10px;\n  border: none;\n  cursor: pointer;\n  color: #fff;\n  background-color: transparent;\n  transition: transform 250ms ease-out, color 250ms ease-in-out;\n  &:hover {\n    transform: scale(1.2);\n    color: #3f51b5;\n  }\n"]))),R=U.a.img(L||(L=Object(Q.a)(["\n  object-fit: cover;\n  /* width: 80vw;\n  height: 80vh; */\n"]))),J=n(32),W=n.n(J);var _,B=Object(x.a)("div",{target:"eb5cijh0"})({name:"1o321lm",styles:"position:fixed;display:flex;justify-content:center;align-items:center;width:100vw;height:100vh"}),H=function(){return Object(O.jsx)(B,{children:Object(O.jsx)(W.a,{type:"ThreeDots",color:"#3f51b5",height:200,width:200})})},P=document.querySelector("#modal-root"),F=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loaded:!1},e.handleKeyDown=function(t){"Escape"===t.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 ESC, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),e.props.onClose())},e.handleOverlayClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e.handleImageLoaded=function(){e.setState({loaded:!0})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("Modal componentDidMount"),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){console.log("Modal componentWillUnmount"),window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.onClose,a=this.state.loaded;return Object(r.createPortal)(Object(O.jsx)(A,{onClick:this.handleOverlayClick,children:Object(O.jsxs)(T,{children:[Object(O.jsx)(R,{src:t.src,alt:t.alt,onLoad:this.handleImageLoaded}),a?Object(O.jsx)(K,{onClick:n,children:Object(O.jsx)(q.a,{size:"30"})}):Object(O.jsx)(H,{})]})}),P)}}]),n}(a.Component),G=U.a.button(_||(_=Object(Q.a)(["\n  padding: 8px 16px;\n  margin: 0 auto;\n  border-radius: 4px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  max-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n"]))),N=function(e){var t=e.onClick;return Object(O.jsx)(G,{onClick:t,children:"Load more"})},V=n(20),X=n.n(V),Y="https://pixabay.com/api/",Z="21657218-66b7793ee8efd2d7b156dd49c";X.a.defaults.baseURL=Y;var $,ee=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,null,[{key:"getImages",value:function(){var e=Object(p.a)(s.a.mark((function e(t,n){var a,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="?q=".concat(t,"&page=").concat(n,"&key=").concat(Z,"&image_type=photo&orientation=horizontal&per_page=12\n        "),e.next=3,X.a.get(a);case 3:return o=e.sent,r=o.data,e.abrupt("return",r.hits);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),te=U.a.div($||($=Object(Q.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  /* grid-gap: 16px; */\n  padding-bottom: 30px;\n"]))),ne=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={searchQuery:"",page:1,images:[],selectedImage:null,status:"idle",error:null},e.onSubmit=function(t){e.state.searchQuery!==t&&(e.setState({searchQuery:"",page:1,images:[]}),e.setState({searchQuery:t}))},e.onModalClose=function(){e.setState({selectedImage:null}),document.body.classList.remove("modal-open")},e.onImageSelect=function(t,n){e.setState({selectedImage:{src:t,alt:n}}),document.body.classList.add("modal-open")},e.onLoadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(p.a)(s.a.mark((function e(t,n){var a,o,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,o=a.searchQuery,r=a.page,n.searchQuery===o&&n.page===r){e.next=17;break}return this.setState({status:"pending"}),e.prev=3,e.next=6,ee.getImages(o,r);case 6:if((i=e.sent).length){e.next=9;break}throw new Error;case 9:this.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(i)),status:"resolved"}})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),this.setState({error:e.t0,status:"rejected"}),g.b.error("Enter a valid search query");case 16:r>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 17:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,n=e.selectedImage,a=e.status,o="pending"===a,r="resolved"===a;return Object(O.jsxs)(te,{children:[Object(O.jsx)(w,{onSubmit:this.onSubmit}),t.length>0&&Object(O.jsx)(D,{images:t,onImageSelect:this.onImageSelect}),n&&Object(O.jsx)(F,{image:n,onClose:this.onModalClose}),o&&Object(O.jsx)(H,{}),r&&t.length>=12&&Object(O.jsx)(N,{name:"Load more",onClick:this.onLoadMore}),Object(O.jsx)(g.a,{autoClose:3e3})]})}}]),n}(a.Component);i.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(ne,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.28795e88.chunk.js.map